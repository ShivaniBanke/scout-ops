apiVersion: grizzly.grafana.com/v1alpha1
kind: Dashboard
metadata:
    folder: general
    name: 5685bc9c-4b99-4f94-b1a2-cf99efd52dfc
spec:
    annotations:
        list:
            - builtIn: 1
              datasource:
                type: grafana
                uid: -- Grafana --
              enable: true
              hide: true
              iconColor: rgba(0, 211, 255, 1)
              name: Annotations & Alerts
              type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 0
    links: []
    panels:
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: shades
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
            overrides: []
          gridPos:
            h: 6
            w: 6
            x: 0
            "y": 0
          id: 1
          options:
            colorMode: value
            graphMode: area
            justifyMode: auto
            orientation: auto
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: TimeUnix
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: time_series
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: "SELECT $timeSeries as t, max(Value) FROM $table WHERE $timeFilter \nAND MetricName = 'gen_ai.total.requests'\nGROUP BY t ORDER BY t"
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\nSELECT (intDiv(toFloat64(TimeUnix) * 1000, (2 * 1000)) * (2 * 1000)) as t, max(Value) FROM base14.otel_metrics_sum WHERE TimeUnix >= toDateTime64(1753287246,3) AND TimeUnix <= toDateTime64(1753290846,3) \nAND MetricName = 'gen_ai.total.requests'\nGROUP BY t ORDER BY t"
              refId: A
              round: 0s
              skip_comments: true
              table: otel_metrics_sum
              useWindowFuncForMacros: true
          title: Total Gen.AI Requests
          type: stat
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: semi-dark-blue
                    mode: shades
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: currencyUSD
            overrides: []
          gridPos:
            h: 6
            w: 6
            x: 6
            "y": 0
          id: 8
          options:
            colorMode: background
            graphMode: area
            justifyMode: auto
            orientation: auto
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: TimeUnix
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: time_series
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: "SELECT \n    $timeSeries AS time,\n    sum(Sum) AS total_sum,\n    ServiceName,\n    MetricName\nFROM $table\nWHERE \n    $timeFilter\n    AND MetricName = 'gen_ai.usage.cost'\n    AND ServiceName = 'chatterbox-api'\nGROUP BY time, ServiceName, MetricName\nORDER BY time"
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\nSELECT \n    (intDiv(toFloat64(TimeUnix) * 1000, (5 * 1000)) * (5 * 1000)) AS time,\n    sum(Sum) AS total_sum,\n    ServiceName,\n    MetricName\nFROM base14.otel_metrics_histogram\nWHERE \n    TimeUnix >= toDateTime64(1753325311,3) AND TimeUnix <= toDateTime64(1753328911,3)\n    AND MetricName = 'gen_ai.usage.cost'\n    AND ServiceName = 'chatterbox-api'\nGROUP BY time, ServiceName, MetricName\nORDER BY time"
              refId: A
              round: 0s
              showFormattedSQL: false
              skip_comments: true
              table: otel_metrics_histogram
              useWindowFuncForMacros: true
          title: Total Gen.AI Usage Cost
          type: stat
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: light-blue
                    mode: shades
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
            overrides: []
          gridPos:
            h: 6
            w: 6
            x: 12
            "y": 0
          id: 2
          options:
            colorMode: background
            graphMode: area
            justifyMode: auto
            orientation: auto
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: TimeUnix
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: time_series
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: "SELECT $timeSeries as t, max(Value) FROM $table WHERE $timeFilter \nAND MetricName = 'gen_ai.usage.input_tokens'\nGROUP BY t ORDER BY t"
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\nSELECT (intDiv(toFloat64(TimeUnix) * 1000, (2 * 1000)) * (2 * 1000)) as t, max(Value) FROM base14.otel_metrics_sum WHERE TimeUnix >= toDateTime64(1753285118,3) AND TimeUnix <= toDateTime64(1753286918,3) \nAND MetricName = 'gen_ai.usage.input_tokens'\nGROUP BY t ORDER BY t"
              refId: A
              round: 0s
              skip_comments: true
              table: otel_metrics_sum
              useWindowFuncForMacros: true
          title: Total Gen.AI Input Tokens
          type: stat
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
            overrides:
                - matcher:
                    id: byName
                    options: Time
                  properties:
                    - id: custom.width
                      value: 239
                - matcher:
                    id: byName
                    options: temperature
                  properties:
                    - id: custom.width
                      value: 101
                - matcher:
                    id: byName
                    options: count
                  properties:
                    - id: custom.width
                      value: 89
          gridPos:
            h: 14
            w: 6
            x: 18
            "y": 0
          id: 11
          options:
            cellHeight: sm
            footer:
                countRows: false
                enablePagination: false
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy: []
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: Timestamp
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: table
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: |-
                --select SpanAttributes['gen_ai.request.model'] as model,SpanAttributes['gen_ai.request.temperature'] as temperature,  Count() as count from $table
                select SpanAttributes['gen_ai.request.model'] as model, Count() as count from $table

                where $timeFilter
                and ServiceName = 'chatterbox-api'
                group by model --, temperature
                order by count DESC --, temperature DESC
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\n\nselect SpanAttributes['gen_ai.request.model'] as model, Count() as count from base14.otel_traces\n\nwhere Timestamp >= toDateTime64(1753304224,3) AND Timestamp <= toDateTime64(1753325824,3)\nand ServiceName = 'chatterbox-api'\ngroup by model \norder by count DESC "
              refId: A
              round: 0s
              skip_comments: true
              table: otel_traces
              useWindowFuncForMacros: true
          title: Models
          type: table
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: light-blue
                    mode: shades
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    axisSoftMin: 0
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: bars
                    fillOpacity: 18
                    gradientMode: hue
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                fieldMinMax: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: s
            overrides: []
          gridPos:
            h: 8
            w: 6
            x: 0
            "y": 6
          id: 9
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: single
                sort: none
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: TimeUnix
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: time_series
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: "SELECT \n    $timeSeries AS time,\n    sum(Sum)/sum(Count) AS duration_per_call,\n    ServiceName,\n    MetricName\nFROM $table\nWHERE \n    $timeFilter\n    AND MetricName = 'gen_ai.client.operation.duration'\n    AND ServiceName = 'chatterbox-api'\nGROUP BY time, ServiceName, MetricName\nORDER BY time"
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\nSELECT \n    (intDiv(toFloat64(TimeUnix) * 1000, (10 * 1000)) * (10 * 1000)) AS time,\n    sum(Sum)/sum(Count) AS duration_per_call,\n    ServiceName,\n    MetricName\nFROM base14.otel_metrics_histogram\nWHERE \n    TimeUnix >= toDateTime64(1753317673,3) AND TimeUnix <= toDateTime64(1753321273,3)\n    AND MetricName = 'gen_ai.client.operation.duration'\n    AND ServiceName = 'chatterbox-api'\nGROUP BY time, ServiceName, MetricName\nORDER BY time"
              refId: A
              round: 0s
              showFormattedSQL: false
              skip_comments: true
              table: otel_metrics_histogram
              useWindowFuncForMacros: true
          title: Avg Duration Per Call
          type: timeseries
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: light-blue
                    mode: shades
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: bars
                    fillOpacity: 18
                    gradientMode: hue
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
            overrides: []
          gridPos:
            h: 8
            w: 6
            x: 6
            "y": 6
          id: 5
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: single
                sort: none
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: TimeUnix
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: time_series
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: "$perSecond(Count, Sum)\nFROM otel_metrics_histogram\nWHERE \n    $timeFilter\n    AND MetricName = 'gen_ai.client.token.usage'\n    AND ServiceName = 'chatterbox-api'\n"
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\nSELECT t, if(max_0 - lagInFrame(max_0,1,0) OVER () < 0, nan, (max_0 - lagInFrame(max_0,1,0) OVER ()) / ((t - lagInFrame(t,1,0) OVER ())/1000) ) AS max_0_PerSecond, if(max_1 - lagInFrame(max_1,1,0) OVER () < 0, nan, (max_1 - lagInFrame(max_1,1,0) OVER ()) / ((t - lagInFrame(t,1,0) OVER ())/1000) ) AS max_1_PerSecond FROM ( SELECT (intDiv(toFloat64(TimeUnix) * 1000, (2 * 1000)) * (2 * 1000)) AS t, max(Count) AS max_0, max(Sum) AS max_1 FROM otel_metrics_histogram\nWHERE TimeUnix >= toDateTime64(1753286845,3) AND TimeUnix <= toDateTime64(1753290445,3) AND \n    TimeUnix >= toDateTime64(1753286845,3) AND TimeUnix <= toDateTime64(1753290445,3)\n    AND MetricName = 'gen_ai.client.token.usage'\n    AND ServiceName = 'chatterbox-api' GROUP BY t ORDER BY t)"
              refId: A
              round: 0s
              showFormattedSQL: false
              skip_comments: true
              table: otel_metrics_histogram
              useWindowFuncForMacros: true
          title: Token Usage Per Second
          type: timeseries
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: light-blue
                    mode: shades
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: bars
                    fillOpacity: 18
                    gradientMode: hue
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: currencyUSD
            overrides: []
          gridPos:
            h: 8
            w: 6
            x: 12
            "y": 6
          id: 7
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: single
                sort: none
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: TimeUnix
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: time_series
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: "$perSecond(Count, Sum)\nFROM otel_metrics_histogram\nWHERE \n    $timeFilter\n    AND MetricName = 'gen_ai.usage.cost'\n    AND ServiceName = 'chatterbox-api'\n"
              rawQuery: "/* grafana dashboard='LLM Usage', user='4' */\nSELECT t, if(max_0 - lagInFrame(max_0,1,0) OVER () < 0, nan, (max_0 - lagInFrame(max_0,1,0) OVER ()) / ((t - lagInFrame(t,1,0) OVER ())/1000) ) AS max_0_PerSecond, if(max_1 - lagInFrame(max_1,1,0) OVER () < 0, nan, (max_1 - lagInFrame(max_1,1,0) OVER ()) / ((t - lagInFrame(t,1,0) OVER ())/1000) ) AS max_1_PerSecond FROM ( SELECT (intDiv(toFloat64(TimeUnix) * 1000, (2 * 1000)) * (2 * 1000)) AS t, max(Count) AS max_0, max(Sum) AS max_1 FROM otel_metrics_histogram\nWHERE TimeUnix >= toDateTime64(1753287642,3) AND TimeUnix <= toDateTime64(1753291242,3) AND \n    TimeUnix >= toDateTime64(1753287642,3) AND TimeUnix <= toDateTime64(1753291242,3)\n    AND MetricName = 'gen_ai.usage.cost'\n    AND ServiceName = 'chatterbox-api' GROUP BY t ORDER BY t)"
              refId: A
              round: 0s
              showFormattedSQL: false
              skip_comments: true
              table: otel_metrics_histogram
              useWindowFuncForMacros: true
          title: Cost Per Second
          type: timeseries
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
            overrides:
                - matcher:
                    id: byName
                    options: Time
                  properties:
                    - id: custom.width
                      value: 239
          gridPos:
            h: 14
            w: 12
            x: 0
            "y": 14
          id: 10
          options:
            cellHeight: sm
            footer:
                countRows: false
                enablePagination: true
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy: []
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: Timestamp
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: table
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: |-
                select toDateTime(Timestamp) as Time, SpanAttributes['gen_ai.prompt'] as Prompt from $table
                where $timeFilter
                and ServiceName = 'chatterbox-api'
                order by Timestamp DESC
              rawQuery: |-
                /* grafana dashboard='LLM Usage', user='4' */
                select toDateTime(Timestamp) as Time, SpanAttributes['gen_ai.prompt'] as Prompt from base14.otel_traces
                where Timestamp >= toDateTime64(1753320330,3) AND Timestamp <= toDateTime64(1753323930,3)
                and ServiceName = 'chatterbox-api'
                order by Timestamp DESC
              refId: A
              round: 0s
              skip_comments: true
              table: otel_traces
              useWindowFuncForMacros: true
          title: Recent Prompts
          type: table
        - datasource:
            type: vertamedia-clickhouse-datasource
            uid: ds-scout-altinity-ch
          fieldConfig:
            defaults:
                color:
                    fixedColor: light-blue
                    mode: shades
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
            overrides:
                - matcher:
                    id: byName
                    options: Time
                  properties:
                    - id: custom.width
                      value: 239
                - matcher:
                    id: byName
                    options: TokenUsage
                  properties:
                    - id: custom.cellOptions
                      value:
                        mode: lcd
                        type: gauge
                    - id: custom.align
                      value: left
                    - id: fieldMinMax
                      value: true
                - matcher:
                    id: byName
                    options: Prompt
                  properties:
                    - id: custom.width
                      value: 508
          gridPos:
            h: 14
            w: 12
            x: 12
            "y": 14
          id: 12
          options:
            cellHeight: sm
            footer:
                countRows: false
                enablePagination: true
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy:
                - desc: true
                  displayName: TokenUsage
          pluginVersion: 12.0.2+security-01
          targets:
            - adHocFilters: []
              adHocValuesQuery: ""
              add_metadata: true
              contextWindowSize: "10"
              database: base14
              datasource:
                type: vertamedia-clickhouse-datasource
                uid: ds-scout-altinity-ch
              dateTimeColDataType: Timestamp
              dateTimeType: DATETIME64
              editorMode: sql
              extrapolate: true
              format: table
              formattedQuery: SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t
              interval: ""
              intervalFactor: 1
              nullifySparse: false
              query: |-
                select SpanAttributes['gen_ai.prompt'] as Prompt, toInt64OrZero(SpanAttributes['gen_ai.client.token.usage']) as TokenUsage  from $table
                where $timeFilter
                and ServiceName = 'chatterbox-api'
                order by TokenUsage DESC
              rawQuery: |-
                /* grafana dashboard='LLM Usage', user='4' */
                select SpanAttributes['gen_ai.prompt'] as Prompt, toInt64OrZero(SpanAttributes['gen_ai.client.token.usage']) as TokenUsage  from base14.otel_traces
                where Timestamp >= toDateTime64(1753320477,3) AND Timestamp <= toDateTime64(1753324077,3)
                and ServiceName = 'chatterbox-api'
                order by TokenUsage DESC
              refId: A
              round: 0s
              skip_comments: true
              table: otel_traces
              useWindowFuncForMacros: true
          title: Token Usage by Prompts
          type: table
    preload: false
    schemaVersion: 41
    tags: []
    templating:
        list: []
    time:
        from: now-1h
        to: now
    timepicker: {}
    timezone: browser
    title: LLM Usage
    uid: 5685bc9c-4b99-4f94-b1a2-cf99efd52dfc
